---
title: 环境配置 
tags: Snippets
grammar_cjkRuby: true
---

``` bash?linenums
mkdir ~/Workbench-NAS
sudo mount -o rw -t nfs -o vers=3 192.168.3.5://volume2/Workbench-Z1Z7AQCM-4T/Workbench  ~/Workbench-NAS  
sudo mount -o rw -t nfs -o vers=3 192.168.3.5://volume3/Data-ZDH1BLYG-4T   ~/Workbench-NAS/Data  
sudo mount -o rw -t nfs -o vers=3 192.168.3.5://volume4/Multimedia-ZDH1BMJ0-4T  ~/Workbench-NAS/Multimedia  
sudo mount -o rw -t nfs -o vers=3 192.168.3.5://volume1/Backup-ZA17H844-8T   ~/Workbench-NAS/Backup  
sudo chmod -R 777 ~/Workbench-NAS

sudo mount -t davfs https://dav.jianguoyun.com/dav/Workbench  ~/Workbench-NAS/IO/webdav/jianguoyun/  
```


## Manjaor

``` bash?linenums

user=lqdai
password=lqdai

echo $password | sudo -S pacman -Sy --noconfirm expect

/usr/bin/expect << EOF
set timeout -1
spawn sudo passwd root
expect -re {\[sudo\] password for $user:} {send "$password\r"}
expect -re {New password:} {send "$password\r"}
expect -re {Retype new password:} {send "$password\r"}
expect eof
EOF


/usr/bin/expect << EOF
set timeout -1
spawn su root
expect "Password:" {send "$password\r"}
send "chmod u+w /etc/sudoers\r"
send "echo '$user ALL=(ALL) NOPASSWD: ALL' >> /etc/sudoers\r"
send "chmod u-w /etc/sudoers\r"
send "cat /etc/sudoers\r"
send "su $user\r"
expect eof
EOF

sudo chmod -R 777 /opt/Workbench
ln -s /opt/Workbench/ ~/Workbench

# 安装 Oh My Zsh
sudo pacman -Sy --noconfirm zsh

/usr/bin/expect << EOF
set timeout -1
spawn chsh -s /bin/zsh
expect -re {Password:} {send "$password\r"}
expect eof
EOF
sh -c "$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"

# 安装Docker
sudo pacman -Sy --noconfirm docker
sudo systemctl start docker
sudo systemctl enable docker
sudo groupadd docker
sudo usermod -aG docker $USER


sudo pacman -Sy --noconfirm pamac
sudo pacman -Sy --noconfirm texlive-most texlive-lang texstudio 
sudo pacman -Sy --noconfirm virtualbox virtualbox-guest-iso
sudo pacman -Sy --noconfirm fcitx-im
```



## Ubuntu

``` bash?linenums

user=lqdai
password=lqdai

echo $password | sudo -S apt install -y expect

/usr/bin/expect << EOF
set timeout -1
spawn sudo passwd root
expect -re {\[sudo\] password for $user:} {send "$password\r"}
expect -re {Enter new UNIX password:} {send "$password\r"}
expect -re {Retype new UNIX password:} {send "$password\r"}
expect eof
EOF

/usr/bin/expect << EOF
set timeout -1
spawn su root
expect "Password:" {send "$password\r"}
send "chmod u+w /etc/sudoers\r"
send "echo '$user ALL=(ALL) NOPASSWD: ALL' >> /etc/sudoers\r"
send "chmod u-w /etc/sudoers\r"
send "cat /etc/sudoers\r"
send "su lqdai\r"
expect eof
EOF


# 安装 Oh My Zsh
sudo apt install -y zsh
sh -c "$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"


# 安装Docker





```